@using System.Data

@{
    string lang = ViewData["LANG"].ToString();
    string type = ViewData["TYPE"].ToString();
    string page = ViewData["PAGE"].ToString();
    string param = ViewData["PARAM"].ToString();

    string baseUrl = System.Configuration.ConfigurationManager.AppSettings["BasePage"].ToString();
    

}

<div style="height:100%;">
    @{
        DataTable dataMain = ViewData["DATA"] as DataTable;

        int count = 0;


        <table border="1">
        @{
            for (int i = 0; i < (dataMain.Rows.Count > 300 ? 300 : dataMain.Rows.Count); i += 5)
            {
                <tr>
                @{
                    for (int j = i; j < i + 5; j++)
                    {
                        count++;

                        DataRow row = dataMain.Rows[j];

                        string url = baseUrl + "/Melon/MelonBookTag/" + row["GUID"].ToString() + "/" + @type + "/" + @lang;
                        string name = string.Format("{0}({1})", row["TAG_NAME"], row["CNT"]);

                        <td>
                            <a href="@url">@name</a>
                        </td>

                    }
                }
                </tr>
            }
        }
        </table>

        for (int i = count; i < dataMain.Rows.Count; i += 1)
        {
            DataRow row = dataMain.Rows[i];

            string url = baseUrl + "/Melon/MelonBookTag/" + row["GUID"].ToString() + "/" + @type + "/" + @lang;
            string name = string.Format("{0}({1})", row["TAG_NAME"], row["CNT"]);

            <a href="@url">@name</a>

        }



    }
</div>